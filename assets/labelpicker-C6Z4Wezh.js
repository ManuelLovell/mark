import{O as l,S as h,C as E,L as S}from"./style-Dvcb6zg2.js";l.onReady(async()=>{document.documentElement.style.borderRadius="16px",document.documentElement.style.height="100%";const f=window.location.search,b=new URLSearchParams(f).get("contextmenu");let y=[];const m=await l.player.getSelection(),p=await l.scene.items.getItems(m);m?.length===1&&(y=await l.scene.items.getItems(t=>t.attachedTo===p[0].id&&t.type==="PATH"));const L=await l.theme.getTheme();h(L,document),l.theme.onChange(t=>{h(t,document)});const n=(await l.room.getMetadata())[`${E.EXTENSIONID}/metadata_marks`]?.saveData;if(n&&n.Labels?.length>0){let t=function(e){e==="#1"?(o.style.display="",s.style.display="none",a.style.display="none"):e==="#2"?(o.style.display="none",s.style.display="",a.style.display="none"):(o.style.display="none",s.style.display="none",a.style.display="")};const o=document.querySelector("#label-list1"),s=document.querySelector("#label-list2"),a=document.querySelector("#label-list3"),i=document.createElement("button");i.className="categoryButton",i.onclick=()=>t("#1");const r=document.createElement("button");r.className="categoryButton",r.onclick=()=>t("#2");const d=document.createElement("button");d.className="categoryButton",d.onclick=()=>t("#3");const u=document.querySelector(".footered");u.appendChild(i),u.appendChild(r),u.appendChild(d),b&&(o.classList.remove("btn-group"),o.classList.add("context-btn-group"),s.classList.remove("btn-group"),s.classList.add("context-btn-group"),a.classList.remove("btn-group"),a.classList.add("context-btn-group")),n.Groups.forEach(e=>{switch(e.Num){case"#1":i.innerText=e.Name;break;case"#2":r.innerText=e.Name;break;case"#3":d.innerText=e.Name;break;default:throw new Error("Invalid Group")}}),n.Labels.forEach(e=>{if(e.Active){const g=y.find(w=>w.name===e.Name),c=document.createElement("button");c.id=`toggle-${e.Id}`,c.className=`group1${g?" highlight":""}`,c.value=e.Name,c.title=e.Name,c.textContent=e.Name,e.Group==="#1"?o.appendChild(c):e.Group==="#2"?s.appendChild(c):a.appendChild(c)}}),document.querySelectorAll(".group1").forEach(e=>{e.addEventListener("click",async g=>await N(g.currentTarget))}),t("#1")}else document.querySelector("#label-list1").innerHTML=`
        <div>
            No labels found.
        </div>`;async function N(t){const o=t.id.substring(7),s=n.Labels.find(a=>a.Id===o);m?.length===1&&(t.className=t.className==="group1"?"group1 highlight":"group1"),p.forEach(async a=>{await S.UpdateLabel(a,s,n.Distance,n.Opacity,n.Stroke)})}});
