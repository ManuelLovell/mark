import{C as c,O as u}from"./constants-e2306cdc.js";function x(){let e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?n:n&3|8).toString(16)})}function g(e,s){const t=window.matchMedia("(prefers-color-scheme: dark)"),n=t.matches?"dark":"light",i=t.matches?"light":"dark";for(var o=0;o<s.styleSheets.length;o++)for(var a=0;a<s.styleSheets[o].cssRules.length;a++){let r=s.styleSheets[o].cssRules[a];r&&r.media&&r.media.mediaText.includes("prefers-color-scheme")&&(e.mode=="LIGHT"?(r.media.appendMedium(`(prefers-color-scheme: ${n})`),r.media.mediaText.includes(i)&&r.media.deleteMedium(`(prefers-color-scheme: ${i})`)):e.mode=="DARK"&&(r.media.appendMedium(`(prefers-color-scheme: ${i})`),r.media.mediaText.includes(n)&&r.media.deleteMedium(`(prefers-color-scheme: ${n})`)))}}function p(e,s){const t=d(e),n=d(s),i=h(t,n);return m(i)}function d(e){const s=e.replace(/[^a-f0-9]/gi,""),t=[];for(let n=0;n<s.length;n+=2)t.push(parseInt(s.substring(n,2),16));return t}function h(e,s){return[...e,...s]}function m(e){const s=new Uint8Array(e),t=Array.from(s).map(i=>i.toString(16).padStart(2,"0"));return[t.slice(0,4).join(""),t.slice(4,6).join(""),t.slice(6,8).join(""),t.slice(8,10).join(""),t.slice(10).join("")].join("-")}function y(e){var s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(s,function(i,o,a,r){return o+o+a+a+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(t){var n=`(${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)})`;return n}else return}function w(e){return`#${e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1).map(s=>parseInt(s,10).toString(16).padStart(2,"0")).join("")}`}function I(e,s){const t=s/e.grid.dpi,n=e.image.width*t*e.scale.x,i=e.image.height*t*e.scale.y,o=e.grid.offset.x/e.image.width*n,a=e.grid.offset.y/e.image.height*i,r={x:e.position.x-o,y:e.position.y-a},l={x:r.x+n,y:r.y+i};return{min:r,max:l}}function S(){const e=document.createElement("img");e.id="whatsNewButton",e.setAttribute("class","icon"),e.classList.add("clickable"),e.setAttribute("title","Whats New?"),e.setAttribute("src","/info.svg"),e.onclick=async function(){try{localStorage.setItem(c.VERSION,"true"),e.classList.remove("whats-new-shine")}catch{}await u.modal.open({id:c.EXTENSIONWHATSNEW,url:"/whatsnew.html",height:500,width:350})};try{localStorage.getItem(c.VERSION)!=="true"&&e.classList.add("whats-new-shine")}catch{}return e}export{p as C,S as G,y as H,w as R,g as S,x as a,I as b};
