import{O as l,S as h,C as E,L as T}from"./label-logic-5f134507.js";l.onReady(async()=>{document.documentElement.style.borderRadius="16px",document.documentElement.style.height="100%";const f=window.location.search,b=new URLSearchParams(f).get("contextmenu");let y=[];const m=await l.player.getSelection(),p=await l.scene.items.getItems(m);m?.length===1&&(y=await l.scene.items.getItems(t=>t.attachedTo===p[0].id&&t.type==="TEXT"));const L=await l.theme.getTheme();h(L,document),l.theme.onChange(t=>{h(t,document)});const c=(await l.room.getMetadata())[`${E.EXTENSIONID}/metadata_marks`]?.saveData;if(c&&c.Labels?.length>0){let t=function(e){e==="#1"?(n.style.display="",o.style.display="none",a.style.display="none"):e==="#2"?(n.style.display="none",o.style.display="",a.style.display="none"):(n.style.display="none",o.style.display="none",a.style.display="")};const n=document.querySelector("#label-list1"),o=document.querySelector("#label-list2"),a=document.querySelector("#label-list3"),i=document.createElement("button");i.className="categoryButton",i.onclick=()=>t("#1");const r=document.createElement("button");r.className="categoryButton",r.onclick=()=>t("#2");const d=document.createElement("button");d.className="categoryButton",d.onclick=()=>t("#3");const u=document.querySelector(".footered");u.appendChild(i),u.appendChild(r),u.appendChild(d),b&&(n.classList.remove("btn-group"),n.classList.add("context-btn-group"),o.classList.remove("btn-group"),o.classList.add("context-btn-group"),a.classList.remove("btn-group"),a.classList.add("context-btn-group")),c.Groups.forEach(e=>{switch(e.Num){case"#1":i.innerText=e.Name;break;case"#2":r.innerText=e.Name;break;case"#3":d.innerText=e.Name;break;default:throw new Error("Invalid Group")}}),c.Labels.forEach(e=>{if(e.Active){const g=y.find(w=>w.text.plainText===e.Name),s=document.createElement("button");s.id=`toggle-${e.Id}`,s.className=`group1${g?" highlight":""}`,s.value=e.Name,s.title=e.Name,s.textContent=e.Name,e.Group==="#1"?n.appendChild(s):e.Group==="#2"?o.appendChild(s):a.appendChild(s)}}),document.querySelectorAll(".group1").forEach(e=>{e.addEventListener("click",async g=>await N(g.currentTarget))}),t("#1")}else document.querySelector("#label-list1").innerHTML=`
        <div>
        No labels found.
        </div>`;async function N(t){const n=t.id.substring(7),o=c.Labels.find(a=>a.Id===n);m?.length===1&&(t.className=t.className==="group1"?"group1 highlight":"group1"),p.forEach(async a=>{await T.UpdateLabel(a,o,c.Distance,c.Opacity)})}});
